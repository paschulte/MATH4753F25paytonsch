---
title: "Lab 2"
author: "Payton Schulte"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: yes
    toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Task 1 - Sorting Files into Directories
```{r}
getwd()
```

## Task 2 - Reading Data into R
```{r}
# Reads in EPAGAS csv
mpg.df=read.csv("EPAGAS.csv")
head(mpg.df)
```

## Task 3 - Determining Outliers
```{r}
# Makes mpg data from csv a vector
mpg = mpg.df$MPG
head(mpg)
```

>1. Transformed mpg variable to z with varified results:
```{r}
# Transforms mpg variable to z
z=(mpg-mean(mpg))/sd(mpg)
head(z)
# Verifies that the mean of z is 0
mean(z)
# Verifies that the standard deviation of z is 1
sd(z)
```

>2. Values of mpg that are possible outliers: **30.0, 42.1, 31.8**
```{r}
mpg[abs(z)>=2 & abs(z)<=3]
```

>3. Values of mpg that are outliers: **44.9**
```{r}
mpg[abs(z)>3]
```

>4. Dataplot to detect outliers:
```{r}
# Color codes the outliers in red and the possible outliers in blue
mpg_plot = ifelse(abs(z)>3,"Red",ifelse(abs(z)>=2 &abs(z)<=3,"Blue","Black"))
# Installs lattice package
library(lattice)
dotplot(mpg, col=mpg_plot, main= "Plot of mpg values")
```

## Task 4 - Boxplot and Chebyshev's Theorem
>1. Boxplot of the mpg variable:
```{r}
# Boxplot with a black box, notch on the median, horizontal, and includes a title
boxplot(mpg, main="MPG Boxplot", xlab="MPG", col="black", horizontal=TRUE, notch=TRUE)
```

### Chebyshev's Theorem: $1 - \frac{1}{k^2}$

>2. Proportion of data within 2 standard deviations of the mean: **0.75**
```{r}
# Using k = 2
k=2
sd_prop = 1 - (1/(k^2))
sd_prop
```

>3. Exact proportion within 2 standard deviation of the mean: **0.96**
```{r}
# Using mpg data to find exact proportion within 2 standard deviations
exact_prop = length(mpg[abs(z)<2])/length(mpg)
exact_prop
```

>4. No, Chebyshev does not aagree with the data. Using the Chebyshev Theorem, 75% of the data should be within 2 standard deviations of the mean. However, when finding the exact proportion of data within 2 standard deviations of the mean using R and the mpg data, we get a result of 96%.

### Empirical Rule: 68–95–99.7

>5. According to the empirical rule, 95% of the data should be within 2 standard deviations of the mean.

>6. The empirical rule is very similar to the exact proportion of data within 2 standard deviations of the mean. The empirical rule expects 95% of the data to be found within 2 standard deviations, and in reality, 96% of the data could be found in that range. This shows a high correspondence between the empirical rule and reality. 

>7. The empirical rule is valid in this case. The empirical rule expects 68% of the data to be located within the 1 standard deviation of the mean, 95% to be within 2 standard deviations, and 99.7% to be within 3 standard deviations. When finding the exact proportions within those ranges using R and the mpg data, 68% of the data is located within 1 standard deviation of the mean, 96% within 2 standard deviations, and 99% within 3 standard deviations. This similarity proves that in this case, the empirical rule is valid. 
```{r}
# Using mpg data to find exact proportion within 1 standard deviation
exact_prop = length(mpg[abs(z)<1])/length(mpg)
exact_prop
# Using mpg data to find exact proportion within 3 standard deviations
exact_prop = length(mpg[abs(z)<3])/length(mpg)
exact_prop
```


